# Полный список полей для извлечения из страницы экскурсии

## Пример: "Газпром Поляна - 2 вершины за 1 день"

### 1. Базовые данные

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **Название** | `<h1 itemprop="name">` | "Курорт «Газпром Поляна» - 2 вершины за 1 день: Альпика+Лаура" | ✅ Высокий |
| **Краткое описание** | `<div class="product-short-description">` | "Две вершины за один день!" | ✅ Высокий |
| **Мета title** | `<meta name="title">` | "Курорт «Газпром Поляна» - 2 вершины за 1 день: Альпика+Лаура" | ✅ Средний |
| **Мета description** | `<meta name="description">` | "Курорт «Газпром Поляна» - 2 вершины за 1 день: Альпика+Лаура Экскурсии Две вершины за один день!" | ✅ Средний |

### 2. Цены

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **Основная цена** | `<span class="PricesalesPrice">` | "3000 руб" | ✅ Высокий |
| **JSON-LD цена** | `<script type="application/ld+json">` | `"price": "3000"` | ✅ Высокий |
| **Цены по точкам (простой)** | `<div class="product-field-display">` | "Отправление из Сочи - 1000 р." | ✅ Высокий |
| **Цены по точкам (взр./дет.)** | `<div class="product-field-display">` | "Отправление из Сочи - 3000р.взр./ 2500р.дет.(7-14)" | ✅ Высокий |

**Структура для цен с разделением:**
```json
{
  "location": "Сочи",
  "price_adult": "3000р.",
  "price_child": "2500р.",
  "child_age": "7-14",
  "price": "3000р. взр. / 2500р. дет. (7-14)"
}
```

### 3. Временные параметры

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **Продолжительность** | `<div class="product-field-display">` | "Продолжительность: 9-10ч" | ✅ Высокий |
| **Календарь дат** | `<div id="event-calendar">` | Генерируется через JavaScript | ⚠️ Низкий (требует JS) |

### 4. Точки посадки

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **Список точек с временем** | `<select><option>` | "Лавровая - 11:00" | ✅ Высокий |
| **ID опции** | `<option value="303">` | "303" | ✅ Средний |

**Структура:**
```json
{
  "location": "Лавровая",
  "time": "11:00",
  "option_id": "303"
}
```

### 5. Дополнительные расходы

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **С ценами** | `<div class="product-field-display">` | "1700 р. / 1400 р. (с 5 лет до 9 лет вкл.) - билет" | ✅ Высокий |
| **Включено в стоимость** | `<div class="product-field-display">` | "Канатная дорога - включена в стоимость" | ✅ Высокий |

**Структура:**
```json
{
  "price": "1700 р. / 1400 р.",
  "description": "билет в аквапарк",
  "included": false
}
```

или

```json
{
  "description": "Канатная дорога на курорте «Газпром Поляна»",
  "included": true
}
```

### 6. Контент

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **Полное описание** | `<div class="product-description">` | Полный текст с параграфами | ✅ Высокий |
| **Особенности** | В описании | "Новинка Красной поляны!" | ✅ Средний |

### 7. Медиа

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **Основное изображение** | `<div class="main-image"><img>` | `/images/virtuemart/product/3s-kabinka.jpg` | ✅ Высокий |
| **Галерея** | `<div class="additional-images"><a>` | 9+ изображений | ✅ Высокий |
| **Alt-текст** | `<img alt="">` | "Gazprom_Laura-verh" | ✅ Средний |

### 8. Структурированные данные

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **JSON-LD Schema.org** | `<script type="application/ld+json">` | Product schema с ценой | ✅ Высокий |

### 9. Технические данные

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **ID продукта** | `<input type="hidden" name="virtuemart_product_id[]">` | "42" | ✅ Средний |
| **Категория** | URL или навигация | "Сочи" или "Абхазия" | ✅ Средний |
| **Canonical URL** | `<link rel="canonical">` | Полный URL страницы | ✅ Средний |

### 10. Навигация

| Поле | HTML элемент | Пример значения | Приоритет |
|------|--------------|-----------------|-----------|
| **Предыдущая экскурсия** | `<a rel="prev">` | "Олимпийский парк" | ✅ Низкий |
| **Следующая экскурсия** | `<a rel="next">` | "Сухум – Термальный источник" | ✅ Низкий |
| **Хлебные крошки** | `<ul class="uk-breadcrumb">` | Главная > Экскурсии > Название | ✅ Низкий |

## Итоговая структура данных для экскурсии

```json
{
  "url": "https://hostaotdykh.ru/ekskursii/...",
  "title": "Название экскурсии",
  "short_description": "Краткое описание",
  "description": "Полное описание",
  "price": "3000 руб",
  "duration": "9-10ч",
  "pickup_points": [
    {
      "location": "Сочи",
      "time": "11:00",
      "option_id": "303",
      "price_adult": "3000р.",
      "price_child": "2500р.",
      "child_age": "7-14",
      "price": "3000р. взр. / 2500р. дет. (7-14)"
    }
  ],
  "additional_costs": [
    {
      "description": "Канатная дорога",
      "included": true
    }
  ],
  "images": [
    {
      "url": "https://...",
      "alt": "Описание",
      "is_main": true
    }
  ],
  "product_id": "42",
  "category": "Сочи",
  "metadata": {
    "canonical_url": "...",
    "json_ld": {...}
  }
}
```

## Приоритеты извлечения

### ✅ Высокий приоритет (обязательно):
1. Название
2. Основная цена
3. Продолжительность
4. Цены по точкам отправления
5. Полное описание
6. Основное изображение

### ✅ Средний приоритет (желательно):
1. Краткое описание
2. Дополнительные расходы
3. Точки посадки с временем
4. Галерея изображений
5. Мета-данные

### ⚠️ Низкий приоритет (опционально):
1. Календарь доступных дат (требует JavaScript)
2. Соседние экскурсии
3. Теги/категории

